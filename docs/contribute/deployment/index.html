<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-contribute/deployment">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Build, Publish and Deploy | api-template</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dev-lambda.github.io/api-template/docs/contribute/deployment"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build, Publish and Deploy | api-template"><meta data-rh="true" name="description" content="Locally testing the docker image"><meta data-rh="true" property="og:description" content="Locally testing the docker image"><link data-rh="true" rel="icon" href="/api-template/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dev-lambda.github.io/api-template/docs/contribute/deployment"><link data-rh="true" rel="alternate" href="https://dev-lambda.github.io/api-template/docs/contribute/deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://dev-lambda.github.io/api-template/docs/contribute/deployment" hreflang="x-default"><link rel="stylesheet" href="/api-template/assets/css/styles.4d3e4b74.css">
<link rel="preload" href="/api-template/assets/js/runtime~main.3cf9e07d.js" as="script">
<link rel="preload" href="/api-template/assets/js/main.1ed563bc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_bChn"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/api-template/"><div class="navbar__logo"><img src="/api-template/img/dev lambda – logo.svg" alt="My Site Logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/api-template/img/dev lambda – logo.svg" alt="My Site Logo" class="themedImage_RWGG themedImage--dark_Dsi0"></div><b class="navbar__title text--truncate">api-template</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api-template/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/api-template/api">API</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_xrmG"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/api-template/docs/contribute/deployment" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/dev-lambda/api-template" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_awgD"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_xrOJ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV docsWrapper_BqXd"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docPage_pOTq"><aside class="theme-doc-sidebar-container docSidebarContainer_aIKW"><div class="sidebarViewport_DwR9"><div class="sidebar_vJCc sidebarWithHideableNavbar_Fo4g"><a tabindex="-1" class="sidebarLogo_nlll" href="/api-template/"><img src="/api-template/img/dev lambda – logo.svg" alt="My Site Logo" class="themedImage_RWGG themedImage--light_riBm"><img src="/api-template/img/dev lambda – logo.svg" alt="My Site Logo" class="themedImage_RWGG themedImage--dark_Dsi0"><b>api-template</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api-template/docs/intro">About</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/api-template/docs/category/contribute">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/getting-started">5 min to get up and running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/npm-scripts">npm scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/structure">Project structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/runtime">API Runtime settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/test">Test guidelines and tooling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/documentation">Documentation guidelines and supports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/api-template/docs/contribute/deployment">Build, Publish and Deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api-template/docs/contribute/monitoring">Monitoring</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_fv3b"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/api-template/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/api-template/docs/category/contribute"><span itemprop="name">Contribute</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Build, Publish and Deploy</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Build, Publish and Deploy</h1><h2 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="locally-testing-the-docker-image">Locally testing the docker image<a href="#locally-testing-the-docker-image" class="hash-link" aria-label="Direct link to Locally testing the docker image" title="Direct link to Locally testing the docker image">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="build-the-image">Build the image<a href="#build-the-image" class="hash-link" aria-label="Direct link to Build the image" title="Direct link to Build the image">​</a></h3><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">docker build . -t api-template:local</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="mongodb">Launch a development instance of mongodb (if needed)<a href="#mongodb" class="hash-link" aria-label="Direct link to Launch a development instance of mongodb (if needed)" title="Direct link to Launch a development instance of mongodb (if needed)">​</a></h3><p>Create a local network for dependent docker instances (once only, optional)</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">docker network create local</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Make sure a mongodb instance is running locally</p><ul><li><p>Create a new docker instance for mongodb (only once)</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --net local \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name mongodb-dev \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 27017:27017 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mongo:6</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>... or simply start an already created instance</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">docker start mongodb-dev</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="run-the-image-connecting-it-to-your-local-mongodb-instance">Run the image connecting it to your local mongodb instance<a href="#run-the-image-connecting-it-to-your-local-mongodb-instance" class="hash-link" aria-label="Direct link to Run the image connecting it to your local mongodb instance" title="Direct link to Run the image connecting it to your local mongodb instance">​</a></h3><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --rm \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name api-template \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p 8000:80 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --net local \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --env mongoDbHost=&quot;mongodb://mongodb-dev:27017/prod&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --env logLevel=&quot;info&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  api-template:local</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will keep a running instance attached to your terminal in order to easily monitor logs and will map the internal container port 80 to your local 8000 port. Your docker running server should be available at <a href="http://localhost:8000/" target="_blank" rel="noopener noreferrer">http://localhost:8000/</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="project-assets">Project assets<a href="#project-assets" class="hash-link" aria-label="Direct link to Project assets" title="Direct link to Project assets">​</a></h2><ul class="contains-task-list containsTaskList__YnT"><li class="task-list-item"><input type="checkbox" checked="" disabled=""> <!-- -->Docker image</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Npm package</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Helm chart</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="ci-workflows">CI Workflows<a href="#ci-workflows" class="hash-link" aria-label="Direct link to CI Workflows" title="Direct link to CI Workflows">​</a></h2><p>There are two main workflows, one is concerned with the project&#x27;s assets (api, docker images, possibly npm packages) and the other is for the documentation website build and publishing.</p><p>Both workflow are independent.</p><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="build-and-publish">Build and publish<a href="#build-and-publish" class="hash-link" aria-label="Direct link to Build and publish" title="Direct link to Build and publish">​</a></h3><p>The responsibility of this workflow is to verify the code, build the project&#x27;s assets and publish the result to the container or package registry.</p><p>Deploying those images to production or any other environment is not in the scope of this workflow.</p><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="licences-compliance-verification">Licences compliance verification<a href="#licences-compliance-verification" class="hash-link" aria-label="Direct link to Licences compliance verification" title="Direct link to Licences compliance verification">​</a></h4><p>Prevent copyleft licences by allowing only an explicit subset of licenses.</p><p>The list of all currently allowed licenses: - MIT - ISC - 0BSD - BSD-2-Clause - BSD-3-Clause - CC-BY-3.0 - CC0-1.0 - Apache-2.0 - Python-2.0</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_oUmQ"><p>In order to add a new license to the list modify the <code>--onlyAllow</code> flag of the <code>license:check</code> npm script.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="linter-rules">Linter rules<a href="#linter-rules" class="hash-link" aria-label="Direct link to Linter rules" title="Direct link to Linter rules">​</a></h4><p>Checks that all linter rules are respected.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_oUmQ"><p>The linter rules are defined in the <code>.eslintrc.json</code> file.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_oUmQ"><p>This project is configured to use prettier as formatting assistant. You can use the <a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode" target="_blank" rel="noopener noreferrer">VS Code extension</a> to keep the code format rules.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="build">Build<a href="#build" class="hash-link" aria-label="Direct link to Build" title="Direct link to Build">​</a></h4><p>The main built asset</p><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="test">Test<a href="#test" class="hash-link" aria-label="Direct link to Test" title="Direct link to Test">​</a></h4><p>Note that tests are run from the typescript sources, neither from the transpiled code nor the built docker image.</p><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="publish">Publish<a href="#publish" class="hash-link" aria-label="Direct link to Publish" title="Direct link to Publish">​</a></h4><p>If all previous steps are ok, the final assets are ready to be published.</p><p>Docker images are tagged both with the version number and the commit tag. The version number is extracted from git tags, not the actual version in the <code>package.json file</code>. Note that the version major and minor labels are moving tags. The branch name is also added as a tag</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_qNG0"><div class="admonitionHeading_l909"><span class="admonitionIcon_UNbs"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_oUmQ"><p>In order to publish a new version number you need to publish a tag in the form of <code>v1.0.0</code>.</p><div class="language-sh codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-sh codeBlock_TAPP thin-scrollbar"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#393A34"><span class="token plain">git tag v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push --tags</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><p>Docker images are published to the <a href="https://github.com/dev-lambda/api-template/pkgs/container/api-template" target="_blank" rel="noopener noreferrer">github project&#x27;s docker repository</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="deploy">Deploy<a href="#deploy" class="hash-link" aria-label="Direct link to Deploy" title="Direct link to Deploy">​</a></h3><p>Not yet implemented.</p><h3 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="publish-documentation-website-to-gh-pages">Publish documentation website to gh-pages<a href="#publish-documentation-website-to-gh-pages" class="hash-link" aria-label="Direct link to Publish documentation website to gh-pages" title="Direct link to Publish documentation website to gh-pages">​</a></h3><p>The documentation website is a static website built from the <code>/website</code> folder content.</p><p>The api documentation depends on the openAPI specification built from the <code>@openapi</code>-tagged jsdoc comments in the API codebase. This is thus a required step before compiling the static website.</p><p>Once the static site built, the contents are published to a <code>gh-pages</code> branch in the same repository. This branch is then published to the dedicated github page at: <a href="https://dev-lambda.github.io/api-template/" target="_blank" rel="noopener noreferrer">https://dev-lambda.github.io/api-template/</a></p><p>The action requires permissions to read and write on the repository. These permissions are requested by the action yaml file.</p><h4 class="anchor anchorWithHideOnScrollNavbar_Yh18" id="github-setup">Github Setup<a href="#github-setup" class="hash-link" aria-label="Direct link to Github Setup" title="Direct link to Github Setup">​</a></h4><p>In order to activate the page publishing you need to set the following project setting on the <a href="https://github.com/dev-lambda/api-template/settings/pages" target="_blank" rel="noopener noreferrer">Github pages setup</a>:</p><ul><li>Deploy from a branch <code>gh-pages</code> <code>/(root)</code></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dev-lambda/api-template/edit/main/website/docs/contribute/deployment.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_T23F"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/api-template/docs/contribute/documentation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Documentation guidelines and supports</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/api-template/docs/contribute/monitoring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#locally-testing-the-docker-image" class="table-of-contents__link toc-highlight">Locally testing the docker image</a><ul><li><a href="#build-the-image" class="table-of-contents__link toc-highlight">Build the image</a></li><li><a href="#mongodb" class="table-of-contents__link toc-highlight">Launch a development instance of mongodb (if needed)</a></li><li><a href="#run-the-image-connecting-it-to-your-local-mongodb-instance" class="table-of-contents__link toc-highlight">Run the image connecting it to your local mongodb instance</a></li></ul></li><li><a href="#project-assets" class="table-of-contents__link toc-highlight">Project assets</a></li><li><a href="#ci-workflows" class="table-of-contents__link toc-highlight">CI Workflows</a><ul><li><a href="#build-and-publish" class="table-of-contents__link toc-highlight">Build and publish</a></li><li><a href="#deploy" class="table-of-contents__link toc-highlight">Deploy</a></li><li><a href="#publish-documentation-website-to-gh-pages" class="table-of-contents__link toc-highlight">Publish documentation website to gh-pages</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About api-template</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/api-template/support">Support</a></li><li class="footer__item"><a class="footer__link-item" href="/api-template/license">License</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/api-template/mentions">Legal mentions</a></li><li class="footer__item"><a class="footer__link-item" href="/api-template/terms">Terms of use</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Dev Lambda.</div></div></div></footer></div>
<script src="/api-template/assets/js/runtime~main.3cf9e07d.js"></script>
<script src="/api-template/assets/js/main.1ed563bc.js"></script>
</body>
</html>